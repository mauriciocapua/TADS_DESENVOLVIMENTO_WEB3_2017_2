package negocio;

import java.io.File;
import java.io.IOException;

import org.codehaus.jackson.JsonParseException;
import org.codehaus.jackson.map.JsonMappingException;
import org.codehaus.jackson.map.ObjectMapper;
import org.codehaus.jackson.map.SerializationConfig;

public class DecoderJson {
	public void readFile() {

		// Pattern pattern = Pattern.compile("\"(.*?)\"");
		// Matcher matcher = pattern.matcher(textoJson.get(0));
		// while (matcher.find()) {
		// System.out.println(matcher.group(1));
		// }

		ObjectMapper mapper = new ObjectMapper();
	      String jsonString = "{\"name\":\"Mahesh\", \"age\":21}";
	      
	      //map json to student
	      
			
	      try{
	         Livro livro = mapper.readValue(new File("textoJson.json"), Livro.class);
	         
	         System.out.println(livro);
	         
	         mapper.enable(SerializationConfig.Feature.INDENT_OUTPUT);
	         jsonString = mapper.writeValueAsString(livro);
	         
	         System.out.println(jsonString);
	      }
	      catch (JsonParseException e) { e.printStackTrace();}
	      catch (JsonMappingException e) { e.printStackTrace(); }
	      catch (IOException e) { e.printStackTrace(); }
	   }

	}

	// livro = { codigo:1, titulo:[ { linguagem:"english", valor:"Sex, Drugs and
	// Rock'n'Roll" }, { linguagem:"portugues", valor:"Sexo, Drogas e Rock'n'Roll" }
	// ], publicacao:"2000-06-15", editora:"Editora Abril", autores:[ "José da
	// Silva", "Maria Brasil" ], capa:{ formato:"png", valor:"..." } }
	//
	// JavaScript Object Notation (JSON)
	// https://www.w3schools.com/js/js_json_intro.asp
	// pares atributo:valor separados por ,
	// {} = object
	// [] = array
	// * utiliza menos bytes que XML

